# phonetic-algorithmIPA

```
pip install phonetic-algorithmIPA
```

Фонетический алгоритм - это алгоритм сравнения слов на основе их произношения. Идеей данного алгоритма является приведение строк, записанных с помощью графем, к фонетическому представлению и их сравнение с помощью различных метрик поиска расстояния. Хотя подобные алгоритмы были описаны ранее, многие из них были специализированы для конкретной исследовательской задачи, например, конкретного языка. В настоящей работе мы представим универсальный фонетический алгоритм, который вычисляет расстояния между транскрипциями слов, и его программную реализацию.  Универсальность алгоритма достигается за счет использования Международного Фонетического Алфавита (МФА). МФА - это фонетическая система обозначений, созданная Международной фонетической Ассоциацией, которая использует набор символов на основе латинского алфавита для представления звуков, которые существуют в человеческих разговорных языках. Алгоритм представляет каждый символ транскрипции, записанной с помощью МФА, в виде вектора, описывающего звук с точки зрения фонетических признаков. В качестве такого описания нами была выбрана фонологическая система Хомского и Халле. Расстояние между транскрипциями рассчитывается с помощью модифицированного варианта расстояния Дамерау-Левенштейна, где стоимость замены равна расстоянию между векторами символов транскрипции.

Note: пакет еще находится в разработке

## Описание пакета

*transcription_splitter
 Функция осуществляет автоматическое разделение строки, записанной с помощью МФА, на составляющие и их представление с помощью артикуляционных признаков. Функция получает на вход саму строку, списки гласных и согласных, которые могут встретиться в транскрипции, и информацию о диакритиках (пример структуры был описан в разделе 2.2.4). Результатом работы функции является массив соответствующих векторов. Если в строке встретились символы, отсутствующие в наборе используемых программой символов, будет вызвана ошибка.
 ```
>>> ipa = PhoneticAlgorithmIPA()
>>> c = ipa.transcription_splitter(‘m’, diacrit, vows, cons)
[[‘-’, ‘0’, ‘0’, ‘-’, ‘+’, ‘+’, ‘-’, ‘0’, ‘-’, ‘-’, ‘-’, ‘+’, ‘+’, ‘-’, ‘-’, ‘+’, ‘-’, ‘-’, ‘-’, ‘0’, ‘0’, ‘0’, ‘-’, ‘-’, ‘0’, ‘0’, ‘0’, ‘0’, ‘0’, ‘-’, ‘0’, ‘0’, ‘-’, ‘-’, ‘-’, ‘-’]]
```


### sound_dist 
Функция рассчитывает расстояние между двумя векторными представлениями по формуле, которая была описана во Введении: 
1-SimilaritiesCommon + (Uncommon  2)
```
>>> c = ipa.transcription_splitter(‘m’, diacrit, vows, cons)
>>> b = ipa.transcription_splitter(‘n’, diacrit, vows, cons)
>>> ipa.sound_dist(c[0], b[0])
0.27586206896551724
```

### lev_distance
Функция вычисляет расстояние по модифицированному алгоритму Дамерау-Левенштейна между двумя массивами артикуляционных векторов. Стоимость замены рассчитывается с помощью функции sound_dist как расстояние между двумя векторами звуков. 
```
>>> c = ipa.transcription_splitter(‘haʊ_2s’, diacrit, vows, cons)
>>> b = ipa.transcription_splitter(‘maʊ_2s’, diacrit, vows, cons)
>>> ipa.lev_distance(c, b)
0.36
```

### phonetic_distance
phonetic_distance - это функция, которая принимает на вход от пользователя путь к csv-файлу с двумя колонками со строками для сравнения, тип задачи (LS или Non LS), тип нормализации и список нерелевантных признаков для задачи LS. Результатом работы является массив с получившимися расстояниями. 
```
>>> c = ipa.phonetic_distance(‘test1.csv’, typ=‘Non Ls’)
[[0.36]]
```

### phonetic_transformer 
Функция осуществляет автоматическую трансформацию строк в фонетические представления. Помимо пути к csv-файлу со строками, типу задачи, типа нормализации и нерелевантных признаков, функция также требует на вход путь к таблице соответствий графем и звуков и контекстов, в которых данные соответствия реализуются, и списки гласных и согласных графем для конкретного языка. Типы правил были описаны в разделе 2.1.1.1. 
```
>>> c = ipa.phonetic_transformer (‘test2.csv’, ‘rules.csv’,  typ=‘Non Ls’)
(‘haʊ_2s’, ‘maʊ_2s’)
[[0.36]]
```

### add_columns
Функция позволяет добавить новые признаки в артикуляционную систему. На вход программе подается словарь, в котором ключом является название признака, а значением - список значений длиной, равной количеству звуков в системе. Признаки могут принимать значения «+», «-» и «0». Например, {‘sonorant’: [+, -, 0]}.
 
### add_rows
add_rows позволяет добавить символ МФА в артикуляционную систему. На вход программе подается словарь, в котором ключом является символ, а значением - список значений длиной, равной количеству признаков в системе. Признаки могут принимать значения «+», «-» и «0». Например, {‘a’: [+, -, 0]}.

### add_diacritics
add_diacritics позволяет добавить диакритический или супрасегментный символ в систему. На вход программе подается словарь, в котором ключом является символ, а значением - список, состоящий из позиции символа относительно звука и словаря признаков, которые он меняет. Позиция может принимать значения post, pre, between. Позицией для диакритик, которые располагаются над или под звуками, является post. Например, {‘ⁿ’: [‘post’, {‘nasal’: ‘+’}]}.

### change_feature_table
Функция позволяет изменить значения существующих в системе признаков следующими тремя способами: 

{sound : {feature: value}} - изменение значения определенного признака у определенных звуков; 

{sound: [values]} - изменение всех значений определенного звука;

{feature: [values]} - изменение всех значений определенного признака.

### default_settings
default_settings обеспечивает возврат к первоначальным данным: артикуляционной системе и списку диакритических и супрасегментных знаков. 
